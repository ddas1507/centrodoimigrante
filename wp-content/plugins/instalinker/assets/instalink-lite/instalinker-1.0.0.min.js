/* Elfsight (c) elfsight.com */
!function(e,t,r){function n(e){this._clientId=e,this._lastPagination={},this._initialPagination={},this._loading=!1}function a(t,r){var a=this;a._id=t,a._structure={},a._structure.$root=e(r),a._structure.style=null,a._params={},a._source={},a._data={},a._data.feedCache=[],a._curBreakpoint=null,a._grid=null,a._prevGrid=null,a._state="loading",a._properties={},a._curLangData=null,a._api=null,a._sizesHash=null,a._oldSizesHash=null,a._defineParams(),a._defineSource(),a._defineLanguage(),a._api=new n(a._params.clientId)}function i(){return e&&e.fn&&e.fn.jquery?void e(s):!1}function s(){e("[data-il]").each(function(e,t){a.init(o++,t).run()})}var o=0;t.Array.prototype.filter||(t.Array.prototype.filter=function(e){"use strict";if(this===r||null===this)throw new t.TypeError;var n=t.Object(this),a=n.length>>>0;if("function"!=typeof e)throw new t.TypeError;for(var i=[],s=arguments.length>=2?arguments[1]:void 0,o=0;a>o;o++)if(o in n){var l=n[o];e.call(s,l,o,n)&&i.push(l)}return i});n.prototype=function(){},n.prototype._apiUrl="https://api.instagram.com/v1",n.prototype.hasNextPage=function(r){var n=this;return e.isArray(r)||(r=[r]),t.Object.keys(this._lastPagination).some(function(e){return!!~r.indexOf(e)&&n._lastPagination[e]&&n._lastPagination[e].next_url})},n.prototype._hasInitialPage=function(r){var n=this;return e.isArray(r)||(r=[r]),t.Object.keys(this._initialPagination).some(function(e){return!!~r.indexOf(e)&&n._initialPagination[e]&&n._initialPagination[e].next_url})},n.prototype.resetPagination=function(t){var r=this;e.isArray(t)||(t=[t]),e.each(t,function(e){r._initialPagination[e]&&(r._lastPagination[e]=r._initialPagination[e])})},n.prototype.isLoading=function(){return this._loading},n.prototype.get=function(t,n,a){var i=null,s=null,o=null;return a=a===r?!0:!!a,n=e.isPlainObject(n)?n:{},n.client_id=this._clientId,t=(a?this._apiUrl:"")+t+"?"+e.param(n),s=e.Deferred(),i=e.ajax({url:t,dataType:"jsonp"}),o={originalPromise:i},i.done(function(t,r){o.originalResponseData=t,200!==t.meta.code?(e.extend(!0,o,{meta:t.meta}),s.reject(o)):(e.extend(!0,o,{data:t.data}),s.resolve(o))}),s.promise()},n.prototype.getUser=function(t){var r=null,n=this;return r=e.Deferred(),t=e.trim(t),n.get("/users/search",{q:t}).done(function(e){e.data=e.data.filter(function(e){return e.username.toLowerCase()===t.toLowerCase()}),r.resolve(e)}).fail(function(){r.reject()}),r.promise()},n.prototype.getProfile=function(e){return e=t.parseInt(e,10),this.get("/users/"+e)},n.prototype.getRecentUserMedia=function(r,n,a){var i=null,s=this;return i=e.Deferred(),r=t.parseInt(r,10),a=t.parseInt(a,10),this.get("/users/"+r+"/media/recent",{count:n?33:a}).done(function(t){var o;n&&e.isArray(n)&&(t.data=t.data.filter(function(e){return e.tags&&e.tags.some(function(e){return!!~n.indexOf(e)})})),o=t.data,s._fetchMedia(t,i,o,a,n,null,r)}).fail(function(e){i.reject(e)}),i},n.prototype._fetchMedia=function(t,r,n,a,i,s,o){var l=this;t&&t.originalResponseData&&(a-=t.data.length+1,o&&(l._lastPagination[o]=t.originalResponseData.pagination),o&&!l._hasInitialPage(o)&&(l._initialPagination[o]=t.originalResponseData.pagination),a>0&&t.originalResponseData.pagination&&t.originalResponseData.pagination.next_url?l.get(t.originalResponseData.pagination.next_url,{count:i||s?33:a},!1).done(function(t){i&&e.isArray(i)&&(t.data=t.data.filter(function(e){return e.tags&&e.tags.some(function(e){return!!~i.indexOf(e)})})),s&&e.isArray(s)&&(t.data=t.data.filter(function(e){return!~s.indexOf(e.user.username)})),n=n.concat(t.data),l._fetchMedia(t,r,n,a,i,s,o)}).fail(function(e){r.reject(e)}):(t.data=n,r.resolve(t)))},a.prototype=function(){},a.VERSION="1.0.0",a.prototype._defaultParams={clientId:"",username:"",bgColor:"#285989",width:"270px",height:"350px",imageSize:"small"},a.prototype._templates={css:"#InstaLinker_{$id} {width: {$width}; height: {$height}; } #InstaLinker_{$id} .instalinker-header, #InstaLinker_{$id} a.instalinker-panel-subscribe {background-color: {$bgColor}; } #InstaLinker_{$id} .instalinker-feed-post {width: {$postWidth}; height: {$postHeight}; } #InstaLinker_{$id} .instalinker-feed-post span {width: {$postImgWidth}; height: {$postImgHeight}; margin-top: {$postImgMTop}; margin-left: {$postImgMLeft} } #InstaLinker_{$id} .instalinker-feed-loader { width: {$width}; }",cap:'<div class="instalinker-cap"></div>',error:'<div class="instalinker-alert">An error occurred. See console for the details.</div>',content:'<div class="instalinker-content"></div>',headerUser:'<a class="instalinker-header" href="{$url}" target="_blank"> <img class="instalinker-header-pic" src="{$pic}" alt="{$name}"/> <span class="instalinker-header-name">{$name}</span> <span class="instalinker-header-logo"></span> </a>',panel:'<div class="instalinker-panel"><span class="instalinker-panel-posts instalinker-panel-counter"> <i class="instalinker-panel-counter-value">{$posts}</i><span class="instalinker-panel-counter-label">{~posts}</span> </span><span class="instalinker-panel-subsribers instalinker-panel-counter"> <i class="instalinker-panel-counter-value">{$followers}</i> <span class="instalinker-panel-counter-label">{~followers}</span> </span> <span class="instalinker-panel-following instalinker-panel-counter"> <i class="instalinker-panel-counter-value">{$following}</i> <span class="instalinker-panel-counter-label">{~following}</span> </span> <a class="instalinker-panel-subscribe" href="{$url}" target="_blank">{~follow}</a> </div>',feedWrapper:'<div class="instalinker-feed-wrapper">',feedInner:'<div class="instalinker-feed-inner"></div>',feedContainer:'<div class="instalinker-feed-container"></div>',feed:'<div class="instalinker-feed"></div>',feedLoader:'<div class="instalinker-feed-loader"></div>',post:'<a href="{$url}" target="_blank" class="instalinker-feed-post"> <span><img src="{$pic}" alt=""></span> </a>',consoleError:"[#InstaLinker_{$id}: {$message}]"},a.prototype._breakpoints={small:[{minWidth:1970,rowLength:21},{minWidth:1870,rowLength:21},{minWidth:1870,rowLength:20},{minWidth:1770,rowLength:19},{minWidth:1670,rowLength:18},{minWidth:1570,rowLength:17},{minWidth:1470,rowLength:16},{minWidth:1370,rowLength:15},{minWidth:1270,rowLength:14},{minWidth:1170,rowLength:13},{minWidth:1070,rowLength:12},{minWidth:970,rowLength:11},{minWidth:870,rowLength:10},{minWidth:770,rowLength:9},{minWidth:670,rowLength:8},{minWidth:570,rowLength:7},{minWidth:470,rowLength:6},{minWidth:370,rowLength:5},{minWidth:90,rowLength:4}],xlarge:[{minWidth:2200,rowLength:6},{minWidth:1800,rowLength:5},{minWidth:1400,rowLength:4},{minWidth:1200,rowLength:3},{minWidth:600,rowLength:2},{minWidth:90,rowLength:1}]},a.prototype._i18n={en:{posts:"posts",followers:"followers",following:"following",follow:"Follow"}},a.init=function(e,t){return new a(e,t)},a.formatNumber=function(e){var r=null,n=null,a=null;return 1e3>e?e:(e>1e6?(n=e/1e6,r="m"):e>1e3&&(n=e/1e3,r="k"),t.parseInt(n,10)!==n&&(n=n.toFixed(1)),a=n+r)},a.prototype._defineLanguage=function(){var e=this;e._curLangData=e._i18n[e._params.lang]||e._i18n.en},a.prototype._defineParams=function(){var t=this;e.each(t._defaultParams,function(r,n){var a;a="data-il-"+r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),t._params[r]=e.trim(t._structure.$root.attr(a))||n})},a.prototype._defineSource=function(){var e=this;e._params.username&&(e._source.type="user",e._source.name=e._params.username)},a.prototype._updateStyles=function(){var r=null,n=this;n._structure.$style||(n._structure.$style=e("<style>",{type:"text/css"}),n._structure.$root.after(n._structure.$style)),n._grid&&(r=n._grid.cellWidth>n._grid.cellHeight?.9*n._grid.cellHeight:.9*n._grid.cellWidth,r=t.parseInt(r,10)),n._structure.$style.html(n._compileTemplate("css",{id:n._id,width:n._params.width,height:n._params.height,bgColor:n._params.bgColor,postWidth:n._grid?n._grid.cellWidth+"px":"initial",postHeight:n._grid?n._grid.cellHeight+"px":"initial",postImgWidth:n._grid?r+"px":"initial",postImgHeight:n._grid?r+"px":"initial",postImgMTop:n._grid?t.parseInt(-r/2,10)+"px":0,postImgMLeft:n._grid?t.parseInt(-r/2,10)+"px":0}))},a.prototype._compileTemplate=function(r,n){var a=null,i=null,s=this;return a=s._templates[r],a&&"[object String]"===t.Object.prototype.toString.call(a)?(i=e.isPlainObject(n)?a.replace(/\{\$([\w\W]+?)}/g,function(e,t){return n[t]}):a,e.isPlainObject(s._curLangData)&&(i=i.replace(/\{~([\w\W]+?)}/g,function(e,t){return s._curLangData[t]})),i):null},a.prototype._setState=function(e){~["loading","ready","error"].indexOf(e)&&(this._state=e,this._structure.$root.removeClass("instalinker-ready instalinker-loading instalinker-error").addClass("instalinker-"+e))},a.prototype._prepare=function(){var t=this;t._structure.$root.addClass("instalinker").addClass("instalinker-"+t._source.type).addClass("instalinker-image-size-"+t._params.imageSize).attr("id","InstaLinker_"+t._id),t._structure.$root.empty(),t._structure.$cap=e(t._templates.cap),t._structure.$root.append(t._structure.$cap),t._structure.$error=e(t._templates.error),t._structure.$root.append(t._structure.$error),t._structure.$content=e(t._templates.content),t._structure.$root.append(t._structure.$content),t._structure.$feedWrapper=e(t._templates.feedWrapper),t._structure.$content.append(t._structure.$feedWrapper),t._setState(t._state),t._defineBreakpoint(),t._defineGrid(),t._updateStyles(),t._adjust()},a.prototype._defineBreakpoint=function(){var t,r=null,n=null,a=this;t=a._undusk(),n=a._breakpoints.hasOwnProperty(a._params.imageSize)?a._breakpoints[a._params.imageSize]:a._breakpoints[a._defaultParams.imageSize],n&&n.length&&(e.each(n,function(e,t){return r?!1:void(a._structure.$feedWrapper.innerWidth()>t.minWidth&&(r=t))}),r||(r=n[0])),a._curBreakpoint=r,t()},a.prototype._defineGrid=function(){var e,r={},n=this;n._curBreakpoint&&(e=n._undusk(),n._prevGrid=n._grid,r.width=n._structure.$feedWrapper.innerWidth(),r.height=n._structure.$feedWrapper.innerHeight(),r.columnsCount=n._curBreakpoint.rowLength,r.cellWidth=t.Math.floor(r.width/r.columnsCount),r.rowsCount=t.Math.round(r.height/r.cellWidth),0===r.rowsCount&&(r.rowsCount=1),r.cellHeight=Math.floor(r.height/r.rowsCount),r.rowsCountDefault=r.rowsCount,r.cellsCount=r.columnsCount*r.rowsCount,r.cellsCountDefault=r.columnsCount*r.rowsCountDefault,n._grid=r,e())},a.prototype._undusk=function(){var t=this;return $hiddenElements=t._structure.$root.parents().filter(function(){return"none"===e(this).css("display")}),$hiddenElements.css({display:"block",visibility:"hidden"}),function(){$hiddenElements.css({display:"none",visibility:""})}},a.prototype._loadFeed=function(){var t=null,r=this;return t=e.Deferred(),r._grid?(r._data.feedCache&&r._data.feedCache.length>=r._grid.cellsCount?(r._data.feed=r._data.feedCache.slice(0,r._grid.cellsCount),t.resolve()):(r._setState("loading"),"user"===r._source.type&&r._data.profile&&r._data.profile.id&&r._api.getRecentUserMedia(r._data.profile.id,r._source.hashfilter,r._grid.cellsCount).done(function(e){e&&e.data&&(r._data.feed=e.data,e.data.length>r._data.feedCache.length&&(r._data.feedCache=e.data),r._setState("ready"),t.resolve())}).fail(function(e){e&&e.meta&&e.meta.error_message&&r._log(e.meta.error_type+" | "+e.meta.error_message),t.reject()})),t.promise()):(t.reject(),t.promise())},a.prototype._setListeners=function(){var r=this;e(t).on("resize.InstaLinker-"+r._id,function(){r._adjust()}),e(t).on("load.InstaLinker-"+r._id,function(){r._adjust()})},a.prototype._adjust=function(){var e=null,t=this;t._sizesHash=t._structure.$root.width()+"."+t._structure.$root.height(),t._defineBreakpoint(),t._defineGrid(),t._updateStyles(),e=t._structure.$root.innerWidth(),t._structure.$root.removeClass("instalinker-small InstaLinker-tiny InstaLinker-medium InstaLinker-large"),e>399?t._structure.$root.addClass("instalinker-large"):e>299?t._structure.$root.addClass("instalinker-medium"):209>=e?t._structure.$root.addClass("instalinker-tiny"):264>=e&&t._structure.$root.addClass("instalinker-small"),t._prevGrid&&t._prevGrid.cellsCount===t._grid.cellsCount?t._sizesHash!==t._oldSizesHash&&t.updateFeed():t._loadFeed().done(function(){t.updateFeed()}),t._oldSizesHash=t._sizesHash},a.prototype._log=function(e,n){var a=null;t.console&&"[object Function]"===t.Object.prototype.toString.call(t.console.log)&&(n=n===r?!0:!!n,n&&this._setState("error"),a=this._compileTemplate("consoleError",{id:this._id,message:e}),t.console.log(a))},a.prototype.run=function(){var e=this;e._updateStyles(),e._prepare(),"user"===e._source.type?e._api.getUser(e._source.name).done(function(t){return t.data.length?void e._api.getProfile(t.data[0].id).done(function(r){r.data.id=t.data[0].id,e._data.profile=r.data,e._loadFeed().done(function(){e.updateContent()&&(e._setState("ready"),e._setListeners(),e._adjust())})}).fail(function(t){t&&t.meta&&t.meta.error_message&&e._log(t.meta.error_type+" | "+t.meta.error_message)}):void e._log("User @"+e._source.name+" is not found.")}).fail(function(t){t&&t.meta&&t.meta.error_message&&e._log(t.meta.error_type+" | "+t.meta.error_message)}):"tag"===e._source.type&&e._loadFeed().done(function(){e.updateContent()&&(e._setState("ready"),e._setListeners(),e._adjust())})},a.prototype.updateContent=function(){var t=this;return t._data.feed&&t._structure.$content?(t._structure.$content.html(""),t._structure.$feedContainer=e(t._templates.feedContainer),t._structure.$feedInner=e(t._templates.feedInner),t._structure.$feed=e(t._templates.feed),t._structure.$feedInner.append(t._structure.$feed),t._structure.$feedContainer.append(t._structure.$feedInner),t._structure.$feedWrapper.append(t._structure.$feedContainer),t._structure.$content.append(t._structure.$feedWrapper),"user"===t._source.type&&t._data.profile&&(t._structure.$header=e(t._compileTemplate("headerUser",{name:t._data.profile.username,url:"https://instagram.com/"+t._data.profile.username+"/",pic:t._data.profile.profile_picture})),t._structure.$content.prepend(t._structure.$header),t._structure.$panel=e(t._compileTemplate("panel",{posts:a.formatNumber(t._data.profile.counts.media),followers:a.formatNumber(t._data.profile.counts.followed_by),following:a.formatNumber(t._data.profile.counts.follows),url:"https://instagram.com/"+t._data.profile.username+"/"})),t._structure.$header.after(t._structure.$panel)),t.updateFeed()):!1},a.prototype.updateFeed=function(t){var r=null,n=this;return n._data.feed&&n._structure.$feed?(r="tag"===n._source.type?n._source.tags:n._data.profile.id,n._api.resetPagination(r),n._api.hasNextPage(r)?n._structure.$root.addClass("instalinker-has-pages"):n._structure.$root.removeClass("instalinker-has-pages"),n._structure.$feed.html(""),e.each(n._data.feed,function(t,r){var a=null,i=null;i=n._grid.cellWidth>306?r.images.standard_resolution.url:n._grid.cellWidth>150?r.images.low_resolution.url:r.images.thumbnail.url,a=e(n._compileTemplate("post",{url:r.link,pic:i})),"video"===r.type&&a.addClass("instalinker-feed-post-video"),n._structure.$feed.append(a)}),e("img",n._structure.$feed).unbind("load.instalinker-"+n._id).one("load.instalinker-"+n._id,function(){e(this).closest(".instalinker-feed-post").addClass("instalinker-feed-post-loaded")}).each(function(){this.complete&&e(this).load()}),!0):!1},a.prototype._appendFeed=function(r){var n=null,a=this;return r&&a._structure.$feed?(n="tag"===a._source.type?a._source.tags:a._data.profile.id,a._api.hasNextPage(n)?a._structure.$root.addClass("instalinker-has-pages"):a._structure.$root.removeClass("instalinker-has-pages"),e.each(r,function(t,r){var n=null,i=null;i=a._grid.cellWidth>306?r.images.standard_resolution.url:a._grid.cellWidth>150?r.images.low_resolution.url:r.images.thumbnail.url,n=e(a._compileTemplate("post",{url:r.link,pic:i})),"video"===r.type&&n.addClass("instalinker-feed-post-video"),a._structure.$feed.append(n)}),e("img",a._structure.$feed).unbind("load.instalinker-"+a._id).one("load.instalinker-"+a._id,function(){var r=e(this);t.setTimeout(function(){r.closest(".instalinker-feed-post").addClass("instalinker-feed-post-loaded")},100)}).each(function(){this.complete&&e(this).load()}),!0):!1},i()}(jQuery,window,void 0);